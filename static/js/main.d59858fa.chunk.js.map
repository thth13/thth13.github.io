{"version":3,"sources":["reducers/simonReducer.js","reducers/index.js","store.js","actions/simonActions.js","components/Game.js","App.js","index.js"],"names":["initialState","isGame","isTurn","turn","list","isOver","fields","level","combineReducers","simonReducer","state","arguments","length","undefined","action","type","Object","objectSpread","payload","map","item","index","toString","concat","toConsumableArray","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","apply","sounds","Audio","lightUp","id","speed","dispatch","play","setTimeout","showTurns","sequence","i","interval","setInterval","clearInterval","Game","handleClick","e","target","_this$props$game","_this","props","game","nextTurn","newRound","gameOver","startGame","console","log","onChangeLevel","changeLevel","value","_this$props$game2","this","react_default","a","createElement","react","onChange","className","onClick","classnames","anim","Component","connect","data","Math","floor","random","nextLevel","push","App","es","components_Game","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.d59858fa.chunk.js","sourcesContent":["const initialState = {\r\n    isGame: false,\r\n    isTurn: false,\r\n    turn: 0,\r\n    list: [],\r\n    isOver: false,\r\n    fields: [false, false, false],\r\n    level: 1000\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'START_GAME':\r\n            return {\r\n                ...state,\r\n                isGame: !state.isGame,\r\n                isTurn: true,\r\n                list: [action.payload],\r\n                isOver: false\r\n            }\r\n        case 'LIGHT_UP':\r\n            return {\r\n                ...state,\r\n                fields: state.fields.map((item, index) => index.toString() === action.payload.toString() ? item =! item:item\r\n                )\r\n            }\r\n        case 'TURN_PLAYER':\r\n            return {\r\n                ...state,\r\n                isTurn: true\r\n            }\r\n        case 'NEW_ROUND':\r\n            return {\r\n                ...state,\r\n                list: [...state.list, action.payload],\r\n                turn: 0,\r\n                isTurn: false\r\n            }\r\n        case 'NEXT_TURN':\r\n            return {\r\n                ...state,\r\n                turn: ++state.turn\r\n            }\r\n        case 'GAME_OVER':\r\n            return {\r\n                ...state,\r\n                isGame: false,\r\n                isTurn: false,\r\n                turn: 0,\r\n                isOver: true\r\n            }\r\n        case 'CHANGE_LEVEL':\r\n            return {\r\n                ...state,\r\n                level: action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport simonReducer from './simonReducer';\r\n\r\nexport default combineReducers({\r\n    simonReducer\r\n});","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension/logOnlyInProduction';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    initialState,\r\n    composeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;","var sound1 = new Audio(\"../sounds/1.mp3\");\r\nvar sound2 = new Audio(\"../sounds/2.mp3\");\r\nvar sound3 = new Audio(\"../sounds/3.mp3\");\r\nvar sound4 = new Audio(\"../sounds/4.mp3\");\r\n\r\nvar sounds = [sound1, sound2, sound3, sound4];\r\n\r\nexport const isTurn = () => {\r\n    return {\r\n        type: 'TURN_PLAYER'\r\n    }\r\n}\r\n\r\nexport const nextTurn = () => {\r\n    return {\r\n        type: 'NEXT_TURN'\r\n    }\r\n}\r\n\r\nexport const gameOver = () => {\r\n    return {\r\n        type: 'GAME_OVER'\r\n    }\r\n}\r\n\r\nexport const changeLevel = (data) => {\r\n    return {\r\n        type: 'CHANGE_LEVEL',\r\n        payload: data\r\n    }\r\n}\r\n\r\nexport const startGame = () => dispatch =>{\r\n    var data = Math.floor(Math.random() * (3 - 0)) + 0; // Делаем первый квадратик\r\n    dispatch({\r\n        type: 'START_GAME',\r\n        payload: data\r\n    })\r\n    \r\n    dispatch(lightUp(data, 500)) // Загораем квадратик\r\n}\r\n\r\n// Загореть квадратик\r\nexport const lightUp = (id, speed) => dispatch => {\r\n    sounds[id].play();\r\n    dispatch({\r\n        type: 'LIGHT_UP',\r\n        payload: id,\r\n    })\r\n\r\n    setTimeout(() => {\r\n        dispatch({\r\n            type: 'LIGHT_UP',\r\n            payload: id\r\n        })\r\n    }, speed)\r\n}\r\n\r\n\r\nexport const newRound = (list, level) => dispatch => {\r\n    var nextLevel = Math.floor(Math.random() * (3 - 0)) + 0; // Определяем следующий квдаратик\r\n    dispatch({\r\n        type: 'NEW_ROUND',\r\n        payload: nextLevel\r\n    })\r\n\r\n    list.push(nextLevel); // Добавляем новый квадратик, к тем что уже есть, что бы показать их\r\n\r\n    dispatch(showTurns(list, level)) // Загораем квадратики\r\n}\r\n\r\n// Показываем квадратики\r\nexport const showTurns = (sequence, level) => dispatch => {\r\n    let i = 0;\r\n\r\n    var interval = setInterval(() => {\r\n        dispatch(lightUp(sequence[i], 400))\r\n        i++;\r\n        if (i >= sequence.length) {\r\n          clearInterval(interval);\r\n          dispatch(isTurn());\r\n        }\r\n      }, level)\r\n}","import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { startGame, lightUp, isTurn, newRound, nextTurn, gameOver, changeLevel } from '../actions/simonActions';\r\nimport classnames from 'classnames';\r\n\r\nclass Game extends Component {\r\n  handleClick = (e) => {\r\n    let { id } = e.target;\r\n    const { isTurn, turn, list, level } = this.props.game;\r\n\r\n    if (isTurn) { // Если настал ход игрока\r\n      if (list[turn].toString() === id) { // Сравниваем туда ли он нажал\r\n\r\n        this.props.lightUp(id, 50); // Загораем квадратик\r\n        this.props.nextTurn(); // Добавляем ход\r\n\r\n        if (list.length <= turn+1) { // Проверяем нажал ли игрок все квадратики\r\n          this.props.newRound(list, level); // Добавляем новый квадратик и обнуляем ходы в ноль\r\n        }\r\n      } else {\r\n        this.props.gameOver(); // Если не верно нажал и проиграл\r\n      }\r\n    }\r\n  }\r\n\r\n  // Стартуем игру  \r\n  startGame = () => {\r\n    if (!this.props.game.isGame) { // Проверяем не начата ли уже игра\r\n      console.log('ИГРА НАЧАЛАС')\r\n      this.props.startGame(); // Стартуем игру\r\n    }\r\n  }\r\n\r\n  onChangeLevel = (e) => {\r\n    if (!this.props.game.isGame) {\r\n      this.props.changeLevel(e.target.value)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { fields, list, isOver, level } = this.props.game;\r\n\r\n    return (\r\n      <Fragment>\r\n        <header>\r\n          <h1>Simon the Game</h1>\r\n          <h2>Round: {list.length}</h2>\r\n          <span>Level:</span>\r\n          <select value={level} onChange={this.onChangeLevel}>\r\n            <option value='1500'>Easy</option>\r\n            <option value='1000'>Normal</option>\r\n            <option value='400'>Hard</option>\r\n          </select>\r\n        </header>\r\n\r\n        <section className=\"game\">\r\n          <div className=\"group\">\r\n            <div id='0' onClick={this.handleClick} className={classnames(`square red`, {'anim': fields[0] })}></div>\r\n            <div id='1' onClick={this.handleClick} className={classnames(`square green`, {'anim': fields[1] })}></div>\r\n          </div>\r\n          <div className=\"group\">\r\n            <div id='2' onClick={this.handleClick} className={classnames(`square blue`, {'anim': fields[2] })}></div>\r\n            <div id='3' onClick={this.handleClick} className={classnames(`square yellow`, {'anim': fields[3] })}></div>\r\n          </div>\r\n          {isOver && <h3>You loose after {list.length} rounds</h3>}\r\n          <button onClick={this.startGame}>Start game</button>\r\n        </section>\r\n\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  game: state.simonReducer\r\n});\r\n\r\nexport default connect(mapStateToProps, { startGame, lightUp, isTurn, newRound, nextTurn, gameOver, changeLevel })(Game);","import React, { Component } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\n\r\nimport Game from './components/Game';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <Game />\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}