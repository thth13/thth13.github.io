(this.webpackJsonplexberry=this.webpackJsonplexberry||[]).push([[0],{121:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),i=a.n(c),r=a(12),s=a.n(r),o=a(30),l=a.n(o),u=(a(121),a(15)),p=a(27),d=a(80),j=a(81),b=a(9),m="SET_DEFAULT_CUSTOMERS",O="FILTER_CUSTOMERS",f="CLEAR_FILTER_CUSTOMERS",g="SET_CUSTOMER",h="CLEAR_CUSTOMER",x="SET_APPLICANTS",y="ADD_APPLICANT",v=" DELETE_APPLICANT",C=" CLEAR_APPLICANTS",N="CREATE_APPLICATION",A="SET_CUSTOMERS_ISLOADING",I="SET_APPLICANTS_ISLOADING",S={defaultCustomers:[],customers:[],customer:null,customersIsLoading:!1};var T=a(61),L={applicants:[],newApplicants:[],applicantsIsLoading:!1};var F=Object(p.combineReducers)({customer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case m:return Object(b.a)(Object(b.a)({},e),{},{defaultCustomers:n,customers:n,customersIsLoading:!1});case O:return Object(b.a)(Object(b.a)({},e),{},{customers:n,customersIsLoading:!1});case f:return Object(b.a)(Object(b.a)({},e),{},{customers:e.defaultCustomers});case g:return Object(b.a)(Object(b.a)({},e),{},{customer:e.defaultCustomers.find((function(e){return e.id===n}))});case h:return Object(b.a)(Object(b.a)({},e),{},{customer:null});case A:return Object(b.a)(Object(b.a)({},e),{},{customersIsLoading:!0});default:return e}},applicant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case x:return Object(b.a)(Object(b.a)({},e),{},{applicants:n,applicantsIsLoading:!1});case y:return Object(b.a)(Object(b.a)({},e),{},{applicants:[].concat(Object(T.a)(e.applicants),[n]),newApplicants:[].concat(Object(T.a)(e.newApplicants),[n])});case v:return Object(b.a)(Object(b.a)({},e),{},{applicants:e.applicants.filter((function(e){return e.id!==n})),newApplicants:e.newApplicants.filter((function(e){return e.id!==n}))});case C:return Object(b.a)(Object(b.a)({},e),{},{applicants:[],newApplicants:[]});case I:return Object(b.a)(Object(b.a)({},e),{},{applicantsIsLoading:!0});default:return e}},application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case N:return n;default:return e}}}),E=[j.a],k=Object(p.createStore)(F,{},Object(d.composeWithDevTools)(p.applyMiddleware.apply(void 0,E))),w=a(24),D=a(173),R=a(130),M=a(166),_=a(169),B=Object(M.a)((function(e){return{button:{marginTop:15,display:"block"}}})),G=Object(u.b)(null,{createApplication:function(){return function(e,t){var a=t(),n=a.customer,c=a.applicant,i={clientId:n.customer&&n.customer.id,applicantsIds:c.applicants.map((function(e){return e.id})),newApplicants:c.newApplicants};e({type:N,payload:i})}}})((function(e){var t=e.createApplication,a=B();return Object(n.jsx)(_.a,{onClick:function(){t()},className:a.button,color:"primary",variant:"contained",children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u0430\u044f\u0432\u043a\u0443"})})),P=a(36),J=a(178),U=a(85),V=a.n(U),z=a(129),W=Object(M.a)((function(e){return Object(P.a)({typography:{marginRight:5},typographyName:{fontWeight:"bolder",marginRight:5},checkbox:{paddingLeft:0},applicantItem:{display:"flex",alignItems:"center"},applicantInfoBlock:{display:"flex"}},e.breakpoints.down("xs"),{applicantInfoBlock:{flexDirection:"column"}})})),Q=Object(u.b)(null,{deleteApplicant:function(e){return function(t){t({type:v,payload:e})}}})((function(e){var t=e.applicant,a=e.deleteApplicant,i=W(),r=Object(c.useState)(!0),s=Object(w.a)(r,2),o=s[0],l=s[1];return Object(n.jsxs)("div",{className:i.applicantItem,children:[Object(n.jsx)(J.a,{checked:o,onChange:function(e){l(e.target.checked)},name:t.name,className:i.checkbox,color:"primary"}),Object(n.jsxs)("div",{className:i.applicantInfoBlock,children:[Object(n.jsx)(R.a,{className:i.typographyName,children:t.name}),Object(n.jsx)(R.a,{className:i.typography,children:t.address.address})]}),Object(n.jsx)(z.a,{onClick:function(){a(t.id)},children:Object(n.jsx)(V.a,{})})]})})),X=a(171),Y=Object(u.b)((function(e){return{applicants:e.applicant.applicants,isLoading:e.applicant.applicantsIsLoading}}),{})((function(e){var t=e.applicants,a=e.isLoading;return console.log(t),Object(n.jsx)(n.Fragment,{children:a?Object(n.jsx)(X.a,{}):t.map((function(e){return Object(n.jsx)(Q,{applicant:e},e.id)}))})})),K=a(87),q=a.n(K),H=a(177),Z=a(179),$=a(172),ee=a(175),te=a(176),ae=Object(M.a)((function(){return{formTitle:{opacity:"50%",fontWeight:"bolder"},textField:{width:"48%",marginBottom:10},textFieldGroup:{display:"flex",justifyContent:"space-between"},radioGroup:{marginBottom:10},countries:{maxWidth:300,marginBottom:10},addButton:{margin:"10px 0"}}})),ne=["Ukraine","Russia","Germany","Japan"],ce=Object(u.b)(null,{addApplicant:function(e){return function(t){t({type:y,payload:e})}}})((function(e){var t=e.addApplicant,a=e.setIsFormOpened,i=ae(),r=Object(c.useState)("individual"),s=Object(w.a)(r,2),o=s[0],l=s[1],u=Object(c.useState)(ne[0]),p=Object(w.a)(u,2),d=p[0],j=p[1],m=Object(c.useState)({edrpou:"",name:"",address:"",originalName:"",originalAddress:""}),O=Object(w.a)(m,2),f=O[0],g=O[1],h=function(e){g(Object(b.a)(Object(b.a)({},f),{},Object(P.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(Object(b.a)(Object(b.a)({},f),{},{id:Date.now().toString(),personType:o,address:{country:d,address:f.address}})),a(!1)},children:[Object(n.jsx)(R.a,{className:i.formTitle,children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u043e\u0433\u043e"}),Object(n.jsxs)(Z.a,{"aria-label":"personType",name:"personType",value:o,onChange:function(e){l(e.target.value)},className:i.radioGroup,children:[Object(n.jsx)($.a,{value:"individual",control:Object(n.jsx)(H.a,{}),label:"\u0424i\u0437\u0438\u0447\u043d\u0430 \u043e\u0441\u043e\u0431\u0430"}),Object(n.jsx)($.a,{value:"entity",control:Object(n.jsx)(H.a,{}),label:"\u042e\u0440\u0438\u0434\u0438\u0447\u043d\u0430 \u043e\u0441\u043e\u0431\u0430"})]}),Object(n.jsx)(te.a,{value:d,onChange:function(e,t){j(t)},options:ne,className:i.countries,renderInput:function(e){return Object(n.jsx)(ee.a,Object(b.a)(Object(b.a)({},e),{},{label:"\u041a\u0440\u0430i\u043d\u0430"}))}}),Object(n.jsx)(ee.a,{value:f.edrpou,onChange:h,name:"edrpou",className:i.textField,label:"\u042d\u0414\u0420\u041f\u041e\u0423"}),Object(n.jsxs)("div",{className:i.textFieldGroup,children:[Object(n.jsx)(ee.a,{name:"name",value:f.name,onChange:h,className:i.textField,label:"\u041d\u0430\u0437\u0432\u0430"}),d&&"Ukraine"!==d&&Object(n.jsx)(ee.a,{name:"originalName",value:f.originalName,onChange:h,className:i.textField,label:"\u041d\u0430\u0437\u0432\u0430 \u043c\u043e\u0432\u043e\u044e \u043f\u043e\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f"})]}),Object(n.jsxs)("div",{className:i.textFieldGroup,children:[Object(n.jsx)(ee.a,{name:"address",value:f.address,onChange:h,className:i.textField,label:"\u0410\u0434\u0440\u0435\u0441\u0430"}),d&&"Ukraine"!==d&&Object(n.jsx)(ee.a,{name:"originalAddress",value:f.originalAddress,onChange:h,className:i.textField,label:"\u0410\u0434\u0440\u0435\u0441\u0430 \u043c\u043e\u0432\u043e\u044e \u043f\u043e\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f"})]}),Object(n.jsx)(_.a,{type:"submit",className:i.addButton,variant:"outlined",color:"primary",children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})})),ie=Object(M.a)((function(){return{root:{marginBottom:"25px",padding:"20px 25px"},name:{fontWeight:"bolder"},addButton:{margin:"15px 0"}}})),re=function(){var e=ie(),t=Object(c.useState)(!1),a=Object(w.a)(t,2),i=a[0],r=a[1];return Object(n.jsxs)(D.a,{className:e.root,elevation:0,children:[Object(n.jsx)(R.a,{variant:"h5",children:"\u0417\u0430\u044f\u0432\u043d\u0438\u043a\u0438"}),Object(n.jsx)(Y,{}),Object(n.jsxs)(_.a,{className:e.addButton,onClick:function(){r((function(e){return!e}))},variant:"outlined",color:"primary",children:["\u0414\u043e\u0434\u0430\u0442\u0438 ",Object(n.jsx)(q.a,{})]}),i&&Object(n.jsx)(ce,{setIsFormOpened:r}),Object(n.jsx)(G,{})]})},se=function(e){var t=e.customer,a=t.name,c=t.contactPerson,i=t.phone;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(R.a,{variant:"h6",children:a}),Object(n.jsx)(R.a,{children:c}),Object(n.jsxs)(R.a,{children:["\u0442\u0435\u043b. ",i]})]})},oe=Object(M.a)((function(){return{autocomplete:{maxWidth:300,marginBottom:15}}})),le=Object(u.b)((function(e){return{customers:e.customer.customers,isLoading:e.customer.customersIsLoading}}),{getDefaultCustomers:function(){return function(e){e({type:A}),l.a.get("https://lexberry.com.ua/api/v1/clients").then((function(t){t.data.items&&e({type:m,payload:t.data.items})})).catch((function(e){return console.log(e)}))}},clearFilterCustomers:function(){return function(e){e({type:f})}},setCustomer:function(e){return function(t){t({type:g,payload:e})}},filterCustomers:function(e){return function(t){t({type:A}),l.a.get("https://lexberry.com.ua/api/v1/clients",{params:{"search[name]":e}}).then((function(e){e.data.items&&t({type:O,payload:e.data.items})})).catch((function(e){return console.log(e)}))}},removeCustomer:function(){return function(e){e({type:h}),e({type:C})}},getApplicants:function(e){return function(t){t({type:I}),l.a.get("https://lexberry.com.ua/api/v1/applicants",{params:{"filter[client:id]":e}}).then((function(e){t({type:x,payload:e.data.items})})).catch((function(e){return console.log(e)}))}}})((function(e){var t=e.customers,a=e.isLoading,i=e.getDefaultCustomers,r=e.clearFilterCustomers,s=e.setCustomer,o=e.filterCustomers,l=e.removeCustomer,u=e.getApplicants,p=oe(),d=Object(c.useState)(""),j=Object(w.a)(d,2),m=j[0],O=j[1],f=Object(c.useState)(null),g=Object(w.a)(f,2),h=g[0],x=g[1];return Object(c.useEffect)((function(){h||l()}),[h,l]),Object(c.useEffect)((function(){i()}),[i]),Object(n.jsx)(te.a,{className:p.autocomplete,value:h,loading:a,onChange:function(e,t){x(t),t&&(s(t.id),u(t.id))},options:t,getOptionLabel:function(e){return e.label},getOptionSelected:function(e){return e.label===h.label},inputValue:m,onInputChange:function(e,t){O((function(e){e&&e.length>=3&&t.length<3||t.length<3?r():t.length>=3&&o(t),O(t)}))},renderInput:function(e){return Object(n.jsx)(ee.a,Object(b.a)(Object(b.a)({},e),{},{label:"Customer Search / Selection",margin:"normal"}))}})})),ue=Object(M.a)((function(){return{root:{marginBottom:"25px",padding:"20px 25px"}}})),pe=Object(u.b)((function(e){return{customer:e.customer.customer}}),null)((function(e){var t=e.customer,a=ue();return Object(n.jsxs)(D.a,{className:a.root,elevation:0,children:[Object(n.jsx)(R.a,{variant:"h5",children:"\u041a\u043b\u0456\u0454\u043d\u0442"}),Object(n.jsx)(le,{}),t&&Object(n.jsx)(se,{customer:t}),Object(n.jsx)(G,{})]})})),de=a(88),je=a.n(de),be=Object(u.b)((function(e){return{application:e.application}}),{})((function(e){var t=e.application;return t&&Object(n.jsx)(je.a,{data:t})})),me=function(){return Object(n.jsxs)(u.a,{store:k,children:[Object(n.jsx)(pe,{}),Object(n.jsx)(re,{}),Object(n.jsx)(be,{})]})};l.a.defaults.headers.common.Authorization="Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpYXQiOjE2MDc0NjEyMDMsImV4cCI6MTYxMDA1MzIwMywicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJ1c2VybmFtZSI6ImJ5Lmhhc2tlbGwifQ.F_0yZmAbIbPuonnXiKdxI9ne77y3CCFmoe-Wygp3wIgXShDoO64cnnTBsVQG6u6VUvZt1LrueXhUnbOmVKnbUTckKKkNcQWl6iHVO-9RgP2133SOzWcSmVDpf0BC_K0lczF0DaAmp1gHii-Ct50nORpSONSbWNnjkfhBIPbyLVDR2sKuGKyMGG-6Qy0JRDTFnt5AVO_z5HEpCYSrQdhwd_wl7gcD9-vH7_aQib9dq6htbDdqdFw1NXk84B_YTfa2szSFyMDuQkaTgXZwoOOouxEHy9JlJgkKgxK5W-f84cNFkFrYxUhxaNROgPFY8Cs9pB54NcVaSceQc2vF2lgtFb3VyC-ra3xTNtrNmzGPpikftkeU8lnojP8ifEsdeYWjgJGUa7HsR-VMq2fN9otGd0PqpXLpXPasBXEvub7tRyqLziGUG_h4SdgIOu0aGe3sItigzF3fnaCc-Vv8B1wM_qt05ahCgdMuMD7X2dW0eAFuO8zKZszz7owiD5S92QiJkI2sGUG5YzPTOPjch-Qoax--aM1QE8XFDvkDYCruARDTBxcqNp6QAdEANr_toscUpcwTM5-hNfSTGaWvF0dkJaek2PCCszOWAyz6TiLy9lGXVkFEGn-qeR9V0ecdHNx9F_6YNqgWAIOlMNCsYiNp77J6ggmLjJZfTYDh6BAwFNI",s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(me,{})}),document.getElementById("root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.ad78116a.chunk.js.map