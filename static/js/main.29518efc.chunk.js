(this.webpackJsonplexberry=this.webpackJsonplexberry||[]).push([[0],{120:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),r=n.n(c),i=n(11),s=n.n(i),o=n(29),l=n.n(o),u=(n(120),n(15)),p=n(27),d=n(79),j=n(80),b=n(12),m="SET_DEFAULT_CUSTOMERS",O="FILTER_CUSTOMERS",f="CLEAR_FILTER_CUSTOMERS",h="SET_CUSTOMER",x="CLEAR_CUSTOMER",g="SET_APPLICANTS",y="ADD_APPLICANT",v=" DELETE_APPLICANT",C=" CLEAR_APPLICANTS",A="CREATE_APPLICATION",N={defaultCustomers:[],customers:[],customer:null};var S=n(59),T={applicants:[],newApplicants:[]};var F=Object(p.combineReducers)({customer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case m:return Object(b.a)(Object(b.a)({},e),{},{defaultCustomers:a,customers:a});case O:return Object(b.a)(Object(b.a)({},e),{},{customers:a});case f:return Object(b.a)(Object(b.a)({},e),{},{customers:e.defaultCustomers});case h:return Object(b.a)(Object(b.a)({},e),{},{customer:e.defaultCustomers.find((function(e){return e.id===a}))});case x:return Object(b.a)(Object(b.a)({},e),{},{customer:null});default:return e}},applicant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case g:return Object(b.a)(Object(b.a)({},e),{},{applicants:a});case y:return{applicants:[].concat(Object(S.a)(e.applicants),[a]),newApplicants:[].concat(Object(S.a)(e.newApplicants),[a])};case v:return{applicants:e.applicants.filter((function(e){return e.id!==a})),newApplicants:e.newApplicants.filter((function(e){return e.id!==a}))};case C:return{applicants:[],newApplicants:[]};default:return e}},application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case A:return a;default:return e}}}),I=[j.a],E=Object(p.createStore)(F,{},Object(d.composeWithDevTools)(p.applyMiddleware.apply(void 0,I))),w=n(24),k=n(171),D=n(131),M=n(165),R=n(168),G=Object(M.a)((function(e){return{button:{marginTop:15,display:"block"}}})),L=Object(u.b)(null,{createApplication:function(){return function(e,t){var n=t(),a=n.customer,c=n.applicant,r={clientId:a.customer&&a.customer.id,applicantsIds:c.applicants.map((function(e){return e.id})),newApplicants:c.newApplicants};e({type:A,payload:r})}}})((function(e){var t=e.createApplication,n=G();return Object(a.jsx)(R.a,{onClick:function(){t()},className:n.button,color:"primary",variant:"contained",children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u0430\u044f\u0432\u043a\u0443"})})),B=n(35),P=n(176),_=n(84),J=n.n(_),U=n(130),V=Object(M.a)((function(e){return Object(B.a)({typography:{marginRight:5},checkbox:{paddingLeft:0},applicantItem:{display:"flex",alignItems:"center"}},e.breakpoints.down("xs"),{applicantItem:{flexDirection:"column"}})})),z=Object(u.b)(null,{deleteApplicant:function(e){return function(t){t({type:v,payload:e})}}})((function(e){var t=e.applicant,n=e.deleteApplicant,r=V(),i=Object(c.useState)(!0),s=Object(w.a)(i,2),o=s[0],l=s[1];return Object(a.jsxs)("div",{className:r.applicantItem,children:[Object(a.jsx)(P.a,{checked:o,onChange:function(e){l(e.target.checked)},name:t.name,className:r.checkbox,color:"primary"}),Object(a.jsx)(D.a,{className:r.typography,children:t.name}),Object(a.jsx)(D.a,{className:r.typography,children:t.address.address}),Object(a.jsx)(U.a,{onClick:function(){n(t.id)},children:Object(a.jsx)(J.a,{})})]})})),W=Object(u.b)((function(e){return{applicants:e.applicant.applicants}}),{})((function(e){var t=e.applicants;return Object(a.jsx)(a.Fragment,{children:t.map((function(e){return Object(a.jsx)(z,{applicant:e},e.id)}))})})),Q=n(86),X=n.n(Q),Y=n(175),K=n(177),q=n(170),H=n(173),Z=n(174),$=Object(M.a)((function(){return{formTitle:{opacity:"50%",fontWeight:"bolder"},textField:{width:"48%",marginBottom:10},textFieldGroup:{display:"flex",justifyContent:"space-between"},radioGroup:{marginBottom:10},countries:{maxWidth:300,marginBottom:10},addButton:{margin:"10px 0"}}})),ee=["Ukraine","Russia","Germany","Japan"],te=Object(u.b)(null,{addApplicant:function(e){return function(t){t({type:y,payload:e})}}})((function(e){var t=e.addApplicant,n=e.setIsFormOpened,r=$(),i=Object(c.useState)("individual"),s=Object(w.a)(i,2),o=s[0],l=s[1],u=Object(c.useState)(ee[0]),p=Object(w.a)(u,2),d=p[0],j=p[1],m=Object(c.useState)({edrpou:"",name:"",address:"",originalName:"",originalAddress:""}),O=Object(w.a)(m,2),f=O[0],h=O[1],x=function(e){h((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(B.a)({},e.target.name,e.target.value))}))};return Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(Object(b.a)(Object(b.a)({},f),{},{id:Date.now(),personType:o,address:{country:d,address:f.address}})),n(!1)},children:[Object(a.jsx)(D.a,{className:r.formTitle,children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u043e\u0433\u043e"}),Object(a.jsxs)(K.a,{"aria-label":"personType",name:"personType",value:o,onChange:function(e){l(e.target.value)},className:r.radioGroup,children:[Object(a.jsx)(q.a,{value:"individual",control:Object(a.jsx)(Y.a,{}),label:"\u0424i\u0437\u0438\u0447\u043d\u0430 \u043e\u0441\u043e\u0431\u0430"}),Object(a.jsx)(q.a,{value:"entity",control:Object(a.jsx)(Y.a,{}),label:"\u042e\u0440\u0438\u0434\u0438\u0447\u043d\u0430 \u043e\u0441\u043e\u0431\u0430"})]}),Object(a.jsx)(Z.a,{value:d,onChange:function(e,t){j(t)},options:ee,className:r.countries,renderInput:function(e){return Object(a.jsx)(H.a,Object(b.a)(Object(b.a)({},e),{},{label:"\u041a\u0440\u0430i\u043d\u0430"}))}}),Object(a.jsx)(H.a,{value:f.edrpou,onChange:x,name:"edrpou",className:r.textField,label:"\u042d\u0414\u0420\u041f\u041e\u0423"}),Object(a.jsxs)("div",{className:r.textFieldGroup,children:[Object(a.jsx)(H.a,{name:"name",value:f.name,onChange:x,className:r.textField,label:"\u041d\u0430\u0437\u0432\u0430"}),d&&"Ukraine"!==d&&Object(a.jsx)(H.a,{name:"originalName",value:f.originalName,onChange:x,className:r.textField,label:"\u041d\u0430\u0437\u0432\u0430 \u043c\u043e\u0432\u043e\u044e \u043f\u043e\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f"})]}),Object(a.jsxs)("div",{className:r.textFieldGroup,children:[Object(a.jsx)(H.a,{name:"address",value:f.address,onChange:x,className:r.textField,label:"\u0410\u0434\u0440\u0435\u0441\u0430"}),d&&"Ukraine"!==d&&Object(a.jsx)(H.a,{name:"originalAddress",value:f.originalAddress,onChange:x,className:r.textField,label:"\u0410\u0434\u0440\u0435\u0441\u0430 \u043c\u043e\u0432\u043e\u044e \u043f\u043e\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f"})]}),Object(a.jsx)(R.a,{type:"submit",className:r.addButton,variant:"outlined",color:"primary",children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})})),ne=Object(M.a)((function(){return{root:{marginBottom:"25px",padding:"20px 25px"},name:{fontWeight:"bolder"},addButton:{margin:"15px 0"}}})),ae=function(){var e=ne(),t=Object(c.useState)(!1),n=Object(w.a)(t,2),r=n[0],i=n[1];return Object(a.jsxs)(k.a,{className:e.root,elevation:0,children:[Object(a.jsx)(D.a,{variant:"h5",children:"\u0417\u0430\u044f\u0432\u043d\u0438\u043a\u0438"}),Object(a.jsx)(W,{}),Object(a.jsxs)(R.a,{className:e.addButton,onClick:function(){i((function(e){return!e}))},variant:"outlined",color:"primary",children:["\u0414\u043e\u0434\u0430\u0442\u0438 ",Object(a.jsx)(X.a,{})]}),r&&Object(a.jsx)(te,{setIsFormOpened:i}),Object(a.jsx)(L,{})]})},ce=function(e){var t=e.customer,n=t.name,c=t.contactPerson,r=t.phone;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(D.a,{variant:"h6",children:n}),Object(a.jsx)(D.a,{children:c}),Object(a.jsxs)(D.a,{children:["\u0442\u0435\u043b. ",r]})]})},re=Object(M.a)((function(){return{autocomplete:{maxWidth:300,marginBottom:15}}})),ie=Object(u.b)((function(e){return{customer:e.customer.customer,customers:e.customer.customers}}),{getDefaultCustomers:function(){return function(e){l.a.get("https://lexberry.com.ua/api/v1/clients").then((function(t){t.data.items&&e({type:m,payload:t.data.items})})).catch((function(e){return console.log(e)}))}},clearFilterCustomers:function(){return function(e){e({type:f})}},setCustomer:function(e){return function(t){t({type:h,payload:e})}},filterCustomers:function(e){return function(t){l.a.get("https://lexberry.com.ua/api/v1/clients",{params:{"search[name]":e}}).then((function(e){e.data.items&&t({type:O,payload:e.data.items})})).catch((function(e){return console.log(e)}))}},removeCustomer:function(){return function(e){e({type:x}),e({type:C})}},getApplicants:function(e){return function(t){l.a.get("https://lexberry.com.ua/api/v1/applicants",{params:{"filter[client:id]":e}}).then((function(e){t({type:g,payload:e.data.items})})).catch((function(e){return console.log(e)}))}}})((function(e){var t=e.customers,n=e.getDefaultCustomers,r=e.clearFilterCustomers,i=e.setCustomer,s=e.filterCustomers,o=e.removeCustomer,l=e.getApplicants,u=re(),p=Object(c.useState)(""),d=Object(w.a)(p,2),j=d[0],m=d[1],O=Object(c.useState)(null),f=Object(w.a)(O,2),h=f[0],x=f[1];return Object(c.useEffect)((function(){h||o()}),[h,o]),Object(c.useEffect)((function(){n()}),[n]),Object(a.jsx)(Z.a,{className:u.autocomplete,value:h,onChange:function(e,t){x(t),t&&(i(t.id),l(t.id))},options:t,getOptionLabel:function(e){return e.label},getOptionSelected:function(e){return e.label===h.label},inputValue:j,onInputChange:function(e,t){m((function(e){e&&e.length>=3&&t.length<3||t.length<3?r():t.length>=3&&s(t),m(t)}))},renderInput:function(e){return Object(a.jsx)(H.a,Object(b.a)(Object(b.a)({},e),{},{label:"Customer Search / Selection",margin:"normal"}))}})})),se=Object(M.a)((function(){return{root:{marginBottom:"25px",padding:"20px 25px"}}})),oe=Object(u.b)((function(e){return{customer:e.customer.customer}}),null)((function(e){var t=e.customer,n=se();return Object(a.jsxs)(k.a,{className:n.root,elevation:0,children:[Object(a.jsx)(D.a,{variant:"h5",children:"\u041a\u043b\u0456\u0454\u043d\u0442"}),Object(a.jsx)(ie,{}),t&&Object(a.jsx)(ce,{customer:t}),Object(a.jsx)(L,{})]})})),le=n(87),ue=n.n(le),pe=Object(u.b)((function(e){return{application:e.application}}),{})((function(e){var t=e.application;return t&&Object(a.jsx)(ue.a,{data:t})})),de=function(){return Object(a.jsxs)(u.a,{store:E,children:[Object(a.jsx)(oe,{}),Object(a.jsx)(ae,{}),Object(a.jsx)(pe,{})]})};l.a.defaults.headers.common.Authorization="Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpYXQiOjE2MDc0NjEyMDMsImV4cCI6MTYxMDA1MzIwMywicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJ1c2VybmFtZSI6ImJ5Lmhhc2tlbGwifQ.F_0yZmAbIbPuonnXiKdxI9ne77y3CCFmoe-Wygp3wIgXShDoO64cnnTBsVQG6u6VUvZt1LrueXhUnbOmVKnbUTckKKkNcQWl6iHVO-9RgP2133SOzWcSmVDpf0BC_K0lczF0DaAmp1gHii-Ct50nORpSONSbWNnjkfhBIPbyLVDR2sKuGKyMGG-6Qy0JRDTFnt5AVO_z5HEpCYSrQdhwd_wl7gcD9-vH7_aQib9dq6htbDdqdFw1NXk84B_YTfa2szSFyMDuQkaTgXZwoOOouxEHy9JlJgkKgxK5W-f84cNFkFrYxUhxaNROgPFY8Cs9pB54NcVaSceQc2vF2lgtFb3VyC-ra3xTNtrNmzGPpikftkeU8lnojP8ifEsdeYWjgJGUa7HsR-VMq2fN9otGd0PqpXLpXPasBXEvub7tRyqLziGUG_h4SdgIOu0aGe3sItigzF3fnaCc-Vv8B1wM_qt05ahCgdMuMD7X2dW0eAFuO8zKZszz7owiD5S92QiJkI2sGUG5YzPTOPjch-Qoax--aM1QE8XFDvkDYCruARDTBxcqNp6QAdEANr_toscUpcwTM5-hNfSTGaWvF0dkJaek2PCCszOWAyz6TiLy9lGXVkFEGn-qeR9V0ecdHNx9F_6YNqgWAIOlMNCsYiNp77J6ggmLjJZfTYDh6BAwFNI",s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(de,{})}),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.29518efc.chunk.js.map